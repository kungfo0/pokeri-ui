(this["webpackJsonppokeri-ui"]=this["webpackJsonppokeri-ui"]||[]).push([[0],{111:function(e,n,t){},113:function(e,n,t){"use strict";t.r(n),t.d(n,"root",(function(){return We}));var r=t(1),c=t(23),i=t(16),o=t(6),a=t(9),s=t.n(a),d=t(10),l=t(36),u=t(5);function j(){return b.apply(this,arguments)}function b(){return(b=Object(d.a)(s.a.mark((function e(){var n,t,r,c,i=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:"",t=i.length>1&&void 0!==i[1]?i[1]:{},r=i.length>2&&void 0!==i[2]?i[2]:{"Content-Type":"application/json"},e.next=5,fetch(n,{method:"POST",cache:"no-cache",headers:r,body:JSON.stringify(t)});case 5:if((c=e.sent).ok){e.next=12;break}return e.t0=Error,e.next=10,c.json();case 10:throw e.t1=e.sent,(0,e.t0)(e.t1);case 12:return e.abrupt("return",c.json());case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return x.apply(this,arguments)}function x(){return(x=Object(d.a)(s.a.mark((function e(){var n,t,r,c,i=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:"",t=i.length>1&&void 0!==i[1]?i[1]:{},r=i.length>2&&void 0!==i[2]?i[2]:{"Content-Type":"application/json","x-api-key":localStorage.getItem("apiKey")},e.next=5,fetch(n,{method:"PUT",cache:"no-cache",headers:r,body:JSON.stringify(t)});case 5:if((c=e.sent).ok){e.next=12;break}return e.t0=Error,e.next=10,c.json();case 10:throw e.t1=e.sent,(0,e.t0)(e.t1);case 12:return e.abrupt("return",c.json());case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return!(!e||"AbortError"!==e.name)}var O,f,m,v,g,w,y,k,S,P,C,R,E,z,A,L,F,B,D,I,T,K,q,M,V,J,N,W,U,Y=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{"Content-Type":"application/json","x-api-key":localStorage.getItem("apiKey")},t=new AbortController,r=t.signal,c=new Promise(function(){var t=Object(d.a)(s.a.mark((function t(c){var i,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e,{headers:n,signal:r});case 3:return i=t.sent,t.next=6,i.json();case 6:o=t.sent,c(o),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),p(t.t0)&&console.log(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}());return c.cancel=function(){return t.abort()},c},G=function(){var e=Object(d.a)(s.a.mark((function e(n,t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("https://mkoryrorqb.execute-api.eu-west-1.amazonaws.com/dev/login",{username:n,password:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(d.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y("".concat("https://mkoryrorqb.execute-api.eu-west-1.amazonaws.com/dev","/seasons"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(d.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("https://mkoryrorqb.execute-api.eu-west-1.amazonaws.com/dev/round",n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Q=function(e){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{"Content-Type":"application/json","x-api-key":localStorage.getItem("apiKey")},t=new AbortController,r=t.signal,c=new Promise(function(){var t=Object(d.a)(s.a.mark((function t(c){var i,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e,{method:"DELETE",cache:"no-cache",headers:n,signal:r});case 3:return i=t.sent,t.next=6,i.json();case 6:o=t.sent,c(o),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),p(t.t0)&&console.log(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}());return c.cancel=function(){return t.abort()},c}("".concat("https://mkoryrorqb.execute-api.eu-west-1.amazonaws.com/dev","/round/").concat(e))},X=t(7),$=t(8),_=$.b.div(O||(O=Object(X.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  width: 100vw;\n"]))),ee=$.b.div(f||(f=Object(X.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: right;\n"]))),ne=$.b.div(m||(m=Object(X.a)(["\n  margin: 1rem 0 2rem 0;\n  width: 200px;\n"]))),te=$.b.div(v||(v=Object(X.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  height: 80vh;\n  width: 30vw;\n  background: rgba(255, 255, 255, 0.15);\n  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);\n  backdrop-filter: blur(8.5px);\n  -webkit-backdrop-filter: blur(8.5px);\n  border-radius: 10px;\n  color: #ffffff;\n  text-transform: uppercase;\n  letter-spacing: 0.4rem;\n  @media only screen and (max-width: 320px) {\n    width: 80vw;\n    height: 90vh;\n    hr {\n      margin-bottom: 0.3rem;\n    }\n    h4 {\n      font-size: small;\n    }\n  }\n  @media only screen and (min-width: 360px) {\n    width: 80vw;\n    height: 90vh;\n    h4 {\n      font-size: small;\n    }\n  }\n  @media only screen and (min-width: 411px) {\n    width: 80vw;\n    height: 90vh;\n  }\n\n  @media only screen and (min-width: 768px) {\n    width: 80vw;\n    height: 80vh;\n  }\n  @media only screen and (min-width: 1024px) {\n    width: 70vw;\n    height: 50vh;\n  }\n  @media only screen and (min-width: 1280px) {\n    width: 30vw;\n    height: 80vh;\n  }\n"]))),re=$.b.h2(g||(g=Object(X.a)(["\n  margin: 3rem 0 2rem 0;\n"]))),ce=$.b.div(w||(w=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  height: 20%;\n  width: 100%;\n"]))),ie=$.b.div(y||(y=Object(X.a)(["\n  margin: 1rem 0 2rem 0;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),oe=($.b.h5(k||(k=Object(X.a)(["\n  cursor: pointer;\n"]))),$.b.hr(S||(S=Object(X.a)(["\n  width: 90%;\n  height: 0.3rem;\n  border-radius: 0.8rem;\n  border: none;\n  background: linear-gradient(to right, #14163c 0%, #03217b 79%);\n  background-color: #ebd0d0;\n  margin: 1.5rem 0 1rem 0;\n  backdrop-filter: blur(25px);\n"])))),ae=($.b.div(P||(P=Object(X.a)(["\n  display: flex;\n  justify-content: space-evenly;\n  margin: 2rem 0 3rem 0;\n  width: 80%;\n"]))),$.b.h4(C||(C=Object(X.a)(["\n  cursor: pointer;\n"]))),$.b.input(R||(R=Object(X.a)(["\n  background: rgba(255, 255, 255, 0.15);\n  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);\n  border-radius: 2rem;\n  width: 80%;\n  height: 3rem;\n  padding: 1rem;\n  border: none;\n  outline: none;\n  color: #3c354e;\n  font-size: 1rem;\n  font-weight: bold;\n  &:focus {\n    display: inline-block;\n    box-shadow: 0 0 0 0.2rem #b9abe0;\n    backdrop-filter: blur(12rem);\n    border-radius: 2rem;\n  }\n  &::placeholder {\n    color: #b9abe099;\n    font-weight: 100;\n    font-size: 1rem;\n  }\n"])))),se=Object($.c)(E||(E=Object(X.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),de=$.b.div(z||(z=Object(X.a)(["\n  color: #d8000c;\n  height: 24px;\n"]))),le=$.b.div(A||(A=Object(X.a)(["\n  animation: "," 1s linear infinite;\n  transform: translateZ(0);\n\n  border-top: 2px solid grey;\n  border-right: 2px solid grey;\n  border-bottom: 2px solid grey;\n  border-left: 4px solid black;\n  background: transparent;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  margin-left: auto;\n  margin-right: auto;\n"])),se),ue=$.b.button(L||(L=Object(X.a)(["\n  background: linear-gradient(to right, #14163c 0%, #03217b 79%);\n  text-transform: uppercase;\n  letter-spacing: 0.2rem;\n  width: 65%;\n  height: 3rem;\n  border: none;\n  color: white;\n  border-radius: 2rem;\n  cursor: pointer;\n  &:active {\n    transform: translateY(4px);\n  }\n  &:hover {\n    filter: brightness(1.5);\n  }\n"]))),je=$.b.button(F||(F=Object(X.a)(["\n  background: linear-gradient(to right, #14163c 0%, #03217b 79%);\n  text-transform: uppercase;\n  margin: 20px;\n  width: 120px;\n  height: 25px;\n  border: none;\n  color: white;\n  border-radius: 2rem;\n  cursor: pointer;\n  &:disabled {\n    filter: brightness(0.5);\n    &:hover {\n      filter: brightness(0.5);\n    }\n  }\n  &:active {\n    transform: translateY(4px);\n  }\n  &:hover {\n    filter: brightness(1.5);\n  }\n"]))),be=($.b.div(B||(B=Object(X.a)(["\n  height: 3.5rem;\n  width: 3.5rem;\n  background: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 4rem;\n  color: white;\n  cursor: pointer;\n  svg {\n    width: 1.5rem;\n    height: 1.5rem;\n  }\n"])),(function(e){return e.background})),$.b.table(D||(D=Object(X.a)(["\n  border-spacing: 0px;\n  background: rgba(255, 255, 255, 0.85);\n  width: 450px;\n  margin: 20px;\n  border: 1px solid black;\n  th,\n  td {\n    border: 1px solid black;\n    padding: 3px;\n  }\n  th:first-child {\n    border-right-width: 0px;\n    text-align: center;\n  }\n  th:last-child {\n    border-left-width: 0px;\n    text-align: right;\n  }\n  td:first-child {\n    text-align: center;\n  }\n  tr {\n    text-align: left;\n  }\n"])))),he=$.b.div(I||(I=Object(X.a)(["\n  display: flex;\n  flex-direction: row;\n  max-width: 100%;\n  flex-wrap: wrap;\n"]))),xe=($.b.div(T||(T=Object(X.a)(["\n  margin: 20px;\n"]))),$.b.h1(K||(K=Object(X.a)(["\n  color: white;\n"])))),pe=$.b.div(q||(q=Object(X.a)(["\n  border: 1px solid gray;\n  border-top: none;\n  opacity: ",";\n  max-height: ",";\n  overflow: hidden;\n  padding: ",";\n  transition: all 0.3s;\n\n  p {\n    margin: 0;\n  }\n"])),(function(e){return e.open?"1":"0"}),(function(e){return e.open?"100%":"0"}),(function(e){return e.open?"15px":"0 15px"})),Oe="@media only screen and (max-width: 768px)",fe=$.b.div(M||(M=Object(X.a)(["\n  width: 100%;\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 0.25rem 1.75rem;\n  "," {\n    font-size: 0.96em;\n    padding: 0.25rem 1.25rem;\n  }\n"])),Oe),me=$.b.div(V||(V=Object(X.a)(["\n  min-width: 0;\n  display: flex;\n  margin: 1.25rem 0;\n  position: relative;\n  border-radius: 3px;\n  word-wrap: break-word;\n  background-color: #fff;\n  flex-direction: column;\n  background-clip: border-box;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n  box-shadow: rgb(0 0 0 / 10%) 0px 1px 3px 0px, rgb(0 0 0 / 5%) 0px 5px 15px 0px;\n  "," {\n    border: none;\n    border-radius: 0;\n    box-shadow: none;\n    margin: 0;\n  }\n"])),Oe),ve=$.b.div(J||(J=Object(X.a)(["\n  display: flex;\n  font-size: 1.15rem;\n  flex-flow: row wrap;\n  background-color: #fff;\n  padding: 0.75rem 1.25rem;\n  border-top-left-radius: 0.25rem;\n  border-top-right-radius: 0.25rem;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n  "," {\n    font-size: 1.1rem;\n    text-align: center;\n    display: inline-block;\n    padding: 0 1.15rem 1rem;\n  }\n"])),Oe),ge=$.b.div(N||(N=Object(X.a)(["\n  flex: 1 1 auto;\n  min-height: 32rem;\n  padding: 0.75rem 1.25rem;\n  ","\n  "," {\n    padding: 0rem 0;\n  }\n"])),(function(e){return e.multiComponents&&Object($.a)(W||(W=Object(X.a)(["\n      > div {\n        margin-bottom: 1.5rem;\n        :first-of-type > label {\n          margin-top: 0;\n        }\n        > label {\n          font-size: 18px;\n          margin-bottom: 0.5rem;\n        }\n      }\n    "])))}),Oe),we=$.b.div(U||(U=Object(X.a)(["\n  display: flex;\n  flex-direction: row;\n  max-width: 100%;\n  flex-wrap: wrap;\n  margin-top: 1rem;\n"]))),ye=t(27),ke=t(0);var Se=function(e){var n=e.values,t=e.extraPoints,r=e.selectionLimit,c=e.index,i=e.onSelect,o=e.onRemove,a=e.onBountySelect,s=e.onBountyRemove;return Object(ke.jsxs)(we,{children:[Object(ke.jsxs)("p",{children:[c,"."]}),Object(ke.jsx)(ye.Multiselect,{id:"finishedposition-".concat(c),displayValue:"name",isObject:!0,onRemove:o,onSearch:function(){},onSelect:i,options:n,selectedValues:[],placeholder:1===c?"Eliminated":"Eliminated / Eliminator",selectionLimit:r,style:{multiselectContainer:{width:"70%"}}},c),Object(ke.jsx)(ye.Multiselect,{id:"extraPoints-".concat(c),displayValue:"name",isObject:!0,onSearch:function(){},onSelect:a,onRemove:s,options:t,selectedValues:[],selectionLimit:1,placeholder:"Bounty",style:{multiselectContainer:{width:"130px"}}},"extraPoints-".concat(c))]})},Pe=t(49),Ce=t.n(Pe);t(63);var Re=function(){var e,n=Object(o.f)(),t=Object(r.useState)(null),c=Object(u.a)(t,2),i=c[0],a=c[1],j=Object(r.useState)(null),b=Object(u.a)(j,2),h=b[0],x=b[1],p=Object(r.useState)(new Date),O=Object(u.a)(p,2),f=O[0],m=O[1],v=Object(r.useState)([]),g=Object(u.a)(v,2),w=g[0],y=g[1],k=Object(r.useState)([]),S=Object(u.a)(k,2),P=S[0],C=S[1],R=Object(r.useState)(5),E=Object(u.a)(R,2),z=E[0],A=E[1],L=Object(r.useState)([]),F=Object(u.a)(L,2),B=F[0],D=F[1],I=Object(r.useState)(""),T=Object(u.a)(I,2),K=T[0],q=T[1],M=Object(r.useState)([]),V=Object(u.a)(M,2),J=V[0],N=V[1],W=Object(r.useState)([]),U=Object(u.a)(W,2),G=U[0],Z=U[1],Q=Object(r.useState)(!1),X=Object(u.a)(Q,2),$=X[0],_=X[1],ee=Object(r.useRef)(void 0),ne=Object(r.useRef)(void 0);Object(r.useEffect)((function(){if(console.log("useEffect",{autoComplateValues:i,availablePlayers:w}),!i){var e;null===(e=ee.current)||void 0===e||e.cancel(),a(null);var n=Y("".concat("https://mkoryrorqb.execute-api.eu-west-1.amazonaws.com/dev","/autocomplete-values"));ee.current=n,n.then((function(e){a(e),y(e.players),console.log("resp.players",e.players),C(e.extraPoints),Z(e.seasons),q(e.seasons[0])}))}if(!h&&K){var t;null===(t=ne.current)||void 0===t||t.cancel(),x(null);var r=(c=K,Y("".concat("https://mkoryrorqb.execute-api.eu-west-1.amazonaws.com/dev","/totals-for-season?season=").concat(c)));ne.current=r,r.then((function(e){x(e)}))}var c}),[i,w,h,K]);var te=function(e,n){console.log("setSelected",{list:e,selected:n}),N([].concat(Object(l.a)(J.filter((function(e){return e.length>0&&e[0].position!==n.position}))),[e]))},re=function(e,n){console.log("setRemoved",{list:e,removed:n}),N(J.filter((function(e){return e.length>0&&e[0].position!==n.position})))},ce=function(e,n){console.log("setBountySelected",{list:e,selected:n}),D([].concat(Object(l.a)(B),[n]))},ie=function(e,n){console.log("setBountyRemoved",{list:e,selected:n}),D(B.filter((function(e){return e.position!==n.position})))},oe=function(){var e=Object(d.a)(s.a.mark((function e(){var t,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={selectedSeason:K,roundDate:f.toISOString(),finishedPositions:J,bounties:B,players:z},console.log("saveRound",t),e.prev=2,_(!0),e.next=6,H(t);case 6:c=e.sent,console.log("saveRound",c),""!==(null===c||void 0===c||null===(r=c.round)||void 0===r?void 0:r.id)&&(console.log("juuh",c),n("".concat(We,"/"))),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:_(!1);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return Object(ke.jsxs)("div",{children:[Object(ke.jsx)(je,{onClick:function(){return n("".concat(We,"/"))},children:"Back"}),i&&Object(ke.jsx)(fe,{children:Object(ke.jsxs)(me,{children:[Object(ke.jsx)(ve,{children:Object(ke.jsxs)(he,{children:["Add Round Details",Object(ke.jsx)(ye.Multiselect,{isObject:!1,selectedValues:[G.length>0?G[0]:""],onSearch:function(){},onSelect:function(e,n){return q(n)},options:G,placeholder:"Season",selectionLimit:1,style:{multiselectContainer:{flexGrow:"1"}}}),Object(ke.jsx)(Ce.a,{selected:f,onChange:function(e){return m(e)},dateFormat:"dd.MM.yyyy"})]})}),Object(ke.jsxs)(ge,{children:[Object(ke.jsxs)("div",{children:["Last round winner: ",Object(ke.jsx)("strong",{children:i.lastRoundWinner})]}),Object(ke.jsxs)("div",{children:["Person with the most points in season ",null===h||void 0===h?void 0:h.season,": ",Object(ke.jsx)("strong",{children:null===h||void 0===h||null===(e=h.totals)||void 0===e?void 0:e.totalPoints[0].name})]}),Object(l.a)(Array(z)).map((function(e,n){return Object(ke.jsx)(Se,{values:w.map((function(e){return{position:n+1,name:e}})),extraPoints:P.map((function(e){return{position:n+1,name:e}})),onSelect:te,onBountySelect:ce,onBountyRemove:ie,onRemove:re,selectionLimit:0==n?1:2,index:++n},n)})),z<10&&Object(ke.jsx)(je,{onClick:function(){return A(z+1)},children:"Add"}),z>1&&Object(ke.jsx)(je,{onClick:function(){return A(z-1)},children:"Remove"}),z>1&&z<11&&J.length===z&&J.filter((function(e){return e.length>0&&1!==e[0].position})).every((function(e){return 2===e.length}))&&Object(ke.jsx)(je,{onClick:function(){return oe()},disabled:$,children:"Save"})]})]})})]})},Ee=t(22);var ze=function(){var e=Object(o.f)(),n=Object(o.g)().id,t=Object(r.useState)(),c=Object(u.a)(t,2),i=c[0],a=c[1],l=Object(r.useRef)(void 0),j=Object(r.useState)(!1),b=Object(u.a)(j,2),h=b[0],x=b[1],p=function(){var t=Object(d.a)(s.a.mark((function t(){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,x(!0),t.next=4,Q(n||"");case 4:r=t.sent,console.log("deleteRound",r),"deleted"===r.status&&e("".concat(We,"/")),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:x(!1);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=function(e){return Y("".concat("https://mkoryrorqb.execute-api.eu-west-1.amazonaws.com/dev","/round/").concat(e))}(n||"");l.current=e,e.then((function(e){a(e)}))}),[n]),Object(ke.jsxs)(ke.Fragment,{children:[Object(ke.jsx)(je,{onClick:function(){return e("".concat(We,"/"))},children:"Back"}),i?Object(ke.jsxs)(ke.Fragment,{children:[Object(ke.jsxs)(be,{children:[Object(ke.jsxs)("thead",{children:[Object(ke.jsx)("tr",{children:Object(ke.jsxs)("th",{colSpan:5,children:["Round - ",new Date(i.round.date).toLocaleDateString("fi-FI",{year:"numeric",month:"numeric",day:"numeric"})]})}),Object(ke.jsxs)("tr",{children:[Object(ke.jsx)("th",{children:"Rank"}),Object(ke.jsx)("th",{children:"Player"}),Object(ke.jsx)("th",{children:"Eliminator"}),Object(ke.jsx)("th",{children:"Points"}),Object(ke.jsx)("th",{children:"Extra"})]})]}),Object(ke.jsx)("tbody",{children:i.finishedPositions.sort((function(e,n){return e.finishedPosition<n.finishedPosition?-1:1})).map((function(e){return Object(ke.jsxs)("tr",{children:[Object(ke.jsx)("td",{children:e.finishedPosition}),Object(ke.jsx)("td",{children:e.eliminatedPlayer}),Object(ke.jsx)("td",{children:e.eliminator}),Object(ke.jsx)("td",{children:e.points}),Object(ke.jsx)("td",{children:null===e||void 0===e?void 0:e.extrapoint})]},e.finishedPosition)}))})]}),Object(ke.jsxs)(je,{onClick:function(){return window.confirm("Delete round?")?p():""},disabled:h,children:[Object(ke.jsx)(Ee.c,{})," Delete"]})]}):Object(ke.jsx)(le,{})]})};function Ae(e){var n=e.content,t=e.loading,r=e.onClick;return Object(ke.jsx)(ue,{onClick:r,children:t?Object(ke.jsx)(le,{}):Object(ke.jsx)("div",{children:n})})}function Le(e){var n=e.type,t=e.placeholder,r=e.value,c=e.onChange;return Object(ke.jsx)(ae,{type:n,placeholder:t,value:r,onChange:c})}var Fe=function(e){var n=e.setApiKey,t=Object(r.useState)(""),c=Object(u.a)(t,2),i=c[0],o=c[1],a=Object(r.useState)(""),l=Object(u.a)(a,2),j=l[0],b=l[1],h=Object(r.useState)(!1),x=Object(u.a)(h,2),p=x[0],O=x[1],f=Object(r.useState)(""),m=Object(u.a)(f,2),v=m[0],g=m[1],w=function(){var e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),g(""),e.prev=2,e.next=5,G(i,j);case 5:t=e.sent,O(!1),n(t["api-key"]),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),g("Invalid credentials"),O(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return Object(ke.jsxs)(te,{children:[Object(ke.jsx)(re,{children:"Welcome"}),Object(ke.jsxs)(ce,{children:[Object(ke.jsx)(Le,{type:"text",placeholder:"Username",value:i,onChange:function(e){var n=e.target.value;o(n)}}),Object(ke.jsx)(Le,{type:"password",placeholder:"Password",value:j,onChange:function(e){var n=e.target.value;b(n)}})]}),Object(ke.jsx)(de,{children:v}),Object(ke.jsx)(ie,{children:Object(ke.jsx)(Ae,{content:"Log in",onClick:w,loading:p})}),Object(ke.jsx)(oe,{})]})};function Be(e){var n=e.setApiKey;return Object(ke.jsx)(ne,{children:Object(ke.jsx)(ue,{onClick:function(){n("")},children:"Logout"})})}var De=function(e){var n=e.round,t=e.index;return Object(ke.jsx)(ke.Fragment,{children:Object(ke.jsxs)(be,{children:[Object(ke.jsxs)("thead",{children:[Object(ke.jsxs)("tr",{children:[Object(ke.jsxs)("th",{colSpan:4,children:["Round ",t," - ",new Date(n.round.date).toLocaleDateString("fi-FI",{year:"numeric",month:"numeric",day:"numeric"})]}),Object(ke.jsx)("th",{children:Object(ke.jsx)(i.b,{to:"".concat(We,"/round/").concat(n.round.id),children:Object(ke.jsx)(Ee.a,{})})})]}),Object(ke.jsxs)("tr",{children:[Object(ke.jsx)("th",{children:"Rank"}),Object(ke.jsx)("th",{children:"Player"}),Object(ke.jsx)("th",{children:"Eliminator"}),Object(ke.jsx)("th",{children:"Points"}),Object(ke.jsx)("th",{children:"Extra"})]})]}),Object(ke.jsx)("tbody",{children:n.finishedPositions.map((function(e,n){var t,r;return Object(ke.jsxs)("tr",{children:[Object(ke.jsx)("td",{children:n+1}),Object(ke.jsx)("td",{children:e.eliminatedPlayer}),Object(ke.jsx)("td",{children:e.eliminator}),Object(ke.jsx)("td",{children:e.points}),Object(ke.jsxs)("td",{children:[null===e||void 0===e||null===(t=e.extraPoints)||void 0===t?void 0:t.type," ",null===e||void 0===e||null===(r=e.extraPoints)||void 0===r?void 0:r.amount]})]},n)}))})]})})};var Ie=function(e){var n=e.roundsForSeason;return Object(ke.jsx)(he,{"data-test-id":"rounds-for-season",children:n.map((function(e,n){return Object(ke.jsx)(De,{round:e,index:n+1},n)}))})};var Te=function(e){var n=e.eliminations,t=e.gamesPlayed,r=e.totalPoints;return Object(ke.jsxs)(he,{"data-test-id":"totals",children:[Object(ke.jsxs)(be,{children:[Object(ke.jsxs)("thead",{children:[Object(ke.jsx)("tr",{children:Object(ke.jsx)("th",{colSpan:2,children:"Participations"})}),Object(ke.jsxs)("tr",{children:[Object(ke.jsx)("th",{children:"Player"}),Object(ke.jsx)("th",{children:"Amount"})]})]}),Object(ke.jsx)("tbody",{children:t.map((function(e,n){return Object(ke.jsxs)("tr",{children:[Object(ke.jsx)("td",{children:e.name}),Object(ke.jsx)("td",{children:e.value})]},n)}))})]}),Object(ke.jsxs)(be,{children:[Object(ke.jsxs)("thead",{children:[Object(ke.jsx)("tr",{children:Object(ke.jsx)("th",{colSpan:2,children:"Total Points"})}),Object(ke.jsxs)("tr",{children:[Object(ke.jsx)("th",{children:"Player"}),Object(ke.jsx)("th",{children:"Amount"})]})]}),Object(ke.jsx)("tbody",{children:r.map((function(e,n){return Object(ke.jsxs)("tr",{children:[Object(ke.jsx)("td",{children:e.name}),Object(ke.jsx)("td",{children:e.value})]},n)}))})]}),Object(ke.jsxs)(be,{children:[Object(ke.jsxs)("thead",{children:[Object(ke.jsx)("tr",{children:Object(ke.jsx)("th",{colSpan:2,children:"Eliminations"})}),Object(ke.jsxs)("tr",{children:[Object(ke.jsx)("th",{children:"Player"}),Object(ke.jsx)("th",{children:"Amount"})]})]}),Object(ke.jsx)("tbody",{children:n.map((function(e,n){return Object(ke.jsxs)("tr",{children:[Object(ke.jsx)("td",{children:e.name}),Object(ke.jsx)("td",{children:e.value})]},n)}))})]})]})};var Ke=function(e){var n=e.selectedSeason,t=Object(r.useState)([]),c=Object(u.a)(t,2),i=c[0],o=c[1],a=Object(r.useState)([]),s=Object(u.a)(a,2),d=s[0],l=s[1],j=Object(r.useState)([]),b=Object(u.a)(j,2),h=b[0],x=b[1],p=Object(r.useState)([]),O=Object(u.a)(p,2),f=O[0],m=O[1],v=Object(r.useState)(!0),g=Object(u.a)(v,2),w=g[0],y=g[1],k=Object(r.useRef)(void 0);return Object(r.useEffect)((function(){var e;null===(e=k.current)||void 0===e||e.cancel(),o([]);var t,r=(t=n,Y("".concat("https://mkoryrorqb.execute-api.eu-west-1.amazonaws.com/dev","/rounds-for-season?season=").concat(t)));k.current=r,r.then((function(e){o(e.rounds),l(e.totals.eliminations),x(e.totals.gamesPlayed),m(e.totals.totalPoints)}))}),[n]),Object(ke.jsx)("div",{children:0===i.length?Object(ke.jsx)("div",{children:Object(ke.jsx)(le,{})}):Object(ke.jsxs)("div",{children:[Object(ke.jsx)(je,{onClick:function(){return y(!w)},children:"Rounds"}),Object(ke.jsx)(pe,{id:"rounds-for-current-season",open:w,children:Object(ke.jsx)(Ie,{roundsForSeason:i})}),Object(ke.jsx)(Te,{eliminations:d,gamesPlayed:h,totalPoints:f}),Object(ke.jsx)("div",{})]})})};var qe=function(){var e=Object(r.useState)(""),n=Object(u.a)(e,2),t=n[0],c=n[1],i=Object(r.useState)([]),o=Object(u.a)(i,2),a=o[0],l=o[1],j=Object(r.useState)(!1),b=Object(u.a)(j,2),h=b[0],x=b[1],p=Object(r.useState)(!1),O=Object(u.a)(p,2),f=O[0],m=O[1];return Object(r.useEffect)((function(){Object(d.a)(s.a.mark((function e(){var n,t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:(n=e.sent).seasons.length>0&&(t=n.seasons[0],r=n.seasons,c(t),l(r),x(r.indexOf(t)-1>=0),m(r.indexOf(t)+1<r.length));case 4:case"end":return e.stop()}}),e)})))()}),[l,c,x,m]),Object(ke.jsx)("div",{children:0===a.length?Object(ke.jsx)("div",{children:Object(ke.jsx)(le,{})}):Object(ke.jsxs)(he,{children:[Object(ke.jsx)(je,{onClick:function(){var e=a.indexOf(t)+1;f&&(c(a[e]),x(a.indexOf(a[e])-1>=0),m(a.indexOf(a[e])+1<a.length))},disabled:!f,children:"Previous"}),Object(ke.jsx)(xe,{children:t}),Object(ke.jsx)(je,{onClick:function(){var e=a.indexOf(t)-1;h&&(c(a[e]),x(a.indexOf(a[e])-1>=0),m(a.indexOf(a[e])+1<a.length))},disabled:!h,children:"Next"}),Object(ke.jsx)(Ke,{selectedSeason:t})]})})};var Me=function(){var e=Object(o.f)(),n=Object(r.useState)(""),t=Object(u.a)(n,2),c=t[0],i=t[1];Object(r.useEffect)((function(){var e=localStorage.getItem("apiKey");e&&i(e)}),[i]);var a=function(e){localStorage.setItem("apiKey",e),i(e)};return Object(ke.jsx)("div",{children:""===c?Object(ke.jsx)(_,{children:Object(ke.jsx)(Fe,{setApiKey:a})}):Object(ke.jsxs)("div",{children:[Object(ke.jsx)(ee,{children:Object(ke.jsx)(Be,{setApiKey:a})}),Object(ke.jsx)(qe,{}),Object(ke.jsxs)(je,{onClick:function(){return e("".concat(We,"/add"))},children:[Object(ke.jsx)(Ee.b,{})," Add Round"]})]})})};var Ve=function(){return Object(ke.jsx)(i.a,{children:Object(ke.jsx)("div",{children:Object(ke.jsxs)(o.c,{children:[Object(ke.jsx)(o.a,{path:"".concat(We,"/round/:id"),element:Object(ke.jsx)(ze,{})}),Object(ke.jsx)(o.a,{path:"".concat(We,"/add"),element:Object(ke.jsx)(Re,{})}),Object(ke.jsx)(o.a,{path:"".concat(We,"/"),element:Object(ke.jsx)(Me,{})})]})})})},Je=(t(111),function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,120)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,i=n.getLCP,o=n.getTTFB;t(e),r(e),c(e),i(e),o(e)}))}),Ne="/pokeri-ui",We=Ne.endsWith("/")?Ne.slice(0,-1):Ne;c.render(Object(ke.jsx)(r.StrictMode,{children:Object(ke.jsx)(Ve,{})}),document.getElementById("root")),Je()}},[[113,1,2]]]);
//# sourceMappingURL=main.e185b2c1.chunk.js.map