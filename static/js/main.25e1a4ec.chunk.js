(this["webpackJsonppokeri-ui"]=this["webpackJsonppokeri-ui"]||[]).push([[0],{181:function(e,n,t){},183:function(e,n,t){"use strict";t.r(n),t.d(n,"root",(function(){return mn}));var r=t(0),a=t(37),i=t(114),c=t(225),o=t(244),s=t(55),d=t(16),l=t(20),b=t.n(l),u=t(25),j=t(26),h=t(7);function x(){return p.apply(this,arguments)}function p(){return(p=Object(u.a)(b.a.mark((function e(){var n,t,r,a,i=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:"",t=i.length>1&&void 0!==i[1]?i[1]:{},r=i.length>2&&void 0!==i[2]?i[2]:{"Content-Type":"application/json"},e.next=5,fetch(n,{method:"POST",cache:"no-cache",headers:r,body:JSON.stringify(t)});case 5:if((a=e.sent).ok){e.next=12;break}return e.t0=Error,e.next=10,a.json();case 10:throw e.t1=e.sent,(0,e.t0)(e.t1);case 12:return e.abrupt("return",a.json());case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(b.a.mark((function e(){var n,t,r,a,i=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:"",t=i.length>1&&void 0!==i[1]?i[1]:{},r=i.length>2&&void 0!==i[2]?i[2]:{"Content-Type":"application/json","x-api-key":localStorage.getItem("apiKey")},e.next=5,fetch(n,{method:"PUT",cache:"no-cache",headers:r,body:JSON.stringify(t)});case 5:if((a=e.sent).ok){e.next=12;break}return e.t0=Error,e.next=10,a.json();case 10:throw e.t1=e.sent,(0,e.t0)(e.t1);case 12:return e.abrupt("return",a.json());case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return!(!e||"AbortError"!==e.name)}var g,v,w,y,k,S,P,C,W,R,E,z,A,L,D,B,F,I,T,K,q,M,V,J,N,U,Y,G,Z,H=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{"Content-Type":"application/json","x-api-key":localStorage.getItem("apiKey")},t=new AbortController,r=t.signal,a=new Promise(function(){var t=Object(u.a)(b.a.mark((function t(a){var i,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e,{headers:n,signal:r});case 3:return i=t.sent,t.next=6,i.json();case 6:c=t.sent,a(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),m(t.t0)&&console.log(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}());return a.cancel=function(){return t.abort()},a},Q=function(){var e=Object(u.a)(b.a.mark((function e(n,t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("https://mkoryrorqb.execute-api.eu-west-1.amazonaws.com/dev/login",{username:n,password:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),X=function(){var e=Object(u.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H("".concat("https://mkoryrorqb.execute-api.eu-west-1.amazonaws.com/dev","/seasons"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(u.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("https://mkoryrorqb.execute-api.eu-west-1.amazonaws.com/dev/round",n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),_=function(e){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{"Content-Type":"application/json","x-api-key":localStorage.getItem("apiKey")},t=new AbortController,r=t.signal,a=new Promise(function(){var t=Object(u.a)(b.a.mark((function t(a){var i,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e,{method:"DELETE",cache:"no-cache",headers:n,signal:r});case 3:return i=t.sent,t.next=6,i.json();case 6:c=t.sent,a(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),m(t.t0)&&console.log(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}());return a.cancel=function(){return t.abort()},a}("".concat("https://mkoryrorqb.execute-api.eu-west-1.amazonaws.com/dev","/round/").concat(e))},ee=t(15),ne=t(19),te=ne.b.div(g||(g=Object(ee.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  width: 100vw;\n"]))),re=ne.b.div(v||(v=Object(ee.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: right;\n"]))),ae=ne.b.div(w||(w=Object(ee.a)(["\n  margin: 1rem 0 2rem 0;\n  width: 200px;\n"]))),ie=ne.b.div(y||(y=Object(ee.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  height: 80vh;\n  width: 30vw;\n  background: rgba(255, 255, 255, 0.15);\n  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);\n  backdrop-filter: blur(8.5px);\n  -webkit-backdrop-filter: blur(8.5px);\n  border-radius: 10px;\n  color: #ffffff;\n  text-transform: uppercase;\n  letter-spacing: 0.4rem;\n  @media only screen and (max-width: 320px) {\n    width: 80vw;\n    height: 90vh;\n    hr {\n      margin-bottom: 0.3rem;\n    }\n    h4 {\n      font-size: small;\n    }\n  }\n  @media only screen and (min-width: 360px) {\n    width: 80vw;\n    height: 90vh;\n    h4 {\n      font-size: small;\n    }\n  }\n  @media only screen and (min-width: 411px) {\n    width: 80vw;\n    height: 90vh;\n  }\n\n  @media only screen and (min-width: 768px) {\n    width: 80vw;\n    height: 80vh;\n  }\n  @media only screen and (min-width: 1024px) {\n    width: 70vw;\n    height: 50vh;\n  }\n  @media only screen and (min-width: 1280px) {\n    width: 30vw;\n    height: 80vh;\n  }\n"]))),ce=ne.b.h2(k||(k=Object(ee.a)(["\n  margin: 3rem 0 2rem 0;\n"]))),oe=ne.b.div(S||(S=Object(ee.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  height: 20%;\n  width: 100%;\n"]))),se=ne.b.div(P||(P=Object(ee.a)(["\n  margin: 1rem 0 2rem 0;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),de=(ne.b.h5(C||(C=Object(ee.a)(["\n  cursor: pointer;\n"]))),ne.b.hr(W||(W=Object(ee.a)(["\n  width: 90%;\n  height: 0.3rem;\n  border-radius: 0.8rem;\n  border: none;\n  background: linear-gradient(to right, #14163c 0%, #03217b 79%);\n  background-color: #ebd0d0;\n  margin: 1.5rem 0 1rem 0;\n  backdrop-filter: blur(25px);\n"])))),le=(ne.b.div(R||(R=Object(ee.a)(["\n  display: flex;\n  justify-content: space-evenly;\n  margin: 2rem 0 3rem 0;\n  width: 80%;\n"]))),ne.b.h4(E||(E=Object(ee.a)(["\n  cursor: pointer;\n"]))),ne.b.input(z||(z=Object(ee.a)(["\n  background: rgba(255, 255, 255, 0.15);\n  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);\n  border-radius: 2rem;\n  width: 80%;\n  height: 3rem;\n  padding: 1rem;\n  border: none;\n  outline: none;\n  color: #3c354e;\n  font-size: 1rem;\n  font-weight: bold;\n  &:focus {\n    display: inline-block;\n    box-shadow: 0 0 0 0.2rem #b9abe0;\n    backdrop-filter: blur(12rem);\n    border-radius: 2rem;\n  }\n  &::placeholder {\n    color: #b9abe099;\n    font-weight: 100;\n    font-size: 1rem;\n  }\n"])))),be=Object(ne.c)(A||(A=Object(ee.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),ue=ne.b.div(L||(L=Object(ee.a)(["\n  color: #d8000c;\n  height: 24px;\n"]))),je=ne.b.div(D||(D=Object(ee.a)(["\n  animation: "," 1s linear infinite;\n  transform: translateZ(0);\n\n  border-top: 2px solid grey;\n  border-right: 2px solid grey;\n  border-bottom: 2px solid grey;\n  border-left: 4px solid black;\n  background: transparent;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  margin-left: auto;\n  margin-right: auto;\n"])),be),he=ne.b.button(B||(B=Object(ee.a)(["\n  background: linear-gradient(to right, #14163c 0%, #03217b 79%);\n  text-transform: uppercase;\n  letter-spacing: 0.2rem;\n  width: 65%;\n  height: 3rem;\n  border: none;\n  color: white;\n  border-radius: 2rem;\n  cursor: pointer;\n  &:active {\n    transform: translateY(4px);\n  }\n  &:hover {\n    filter: brightness(1.5);\n  }\n"]))),xe=ne.b.button(F||(F=Object(ee.a)(["\n  background: linear-gradient(to right, #14163c 0%, #03217b 79%);\n  text-transform: uppercase;\n  margin: 20px;\n  width: 120px;\n  height: 25px;\n  border: none;\n  color: white;\n  border-radius: 2rem;\n  cursor: pointer;\n  &:disabled {\n    filter: brightness(0.5);\n    &:hover {\n      filter: brightness(0.5);\n    }\n  }\n  &:active {\n    transform: translateY(4px);\n  }\n  &:hover {\n    filter: brightness(1.5);\n  }\n"]))),pe=(ne.b.div(I||(I=Object(ee.a)(["\n  height: 3.5rem;\n  width: 3.5rem;\n  background: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 4rem;\n  color: white;\n  cursor: pointer;\n  svg {\n    width: 1.5rem;\n    height: 1.5rem;\n  }\n"])),(function(e){return e.background})),ne.b.table(T||(T=Object(ee.a)(["\n  border-spacing: 0px;\n  background: rgba(255, 255, 255, 0.85);\n  width: 450px;\n  margin: 20px;\n  border: 1px solid black;\n  th,\n  td {\n    border: 1px solid black;\n    padding: 3px;\n  }\n  th:first-child {\n    border-right-width: 0px;\n    text-align: center;\n  }\n  th:last-child {\n    border-left-width: 0px;\n    text-align: right;\n  }\n  td:first-child {\n    text-align: center;\n  }\n  tr {\n    text-align: left;\n  }\n"])))),fe=ne.b.div(K||(K=Object(ee.a)(["\n  display: flex;\n  flex-direction: row;\n  max-width: 100%;\n  flex-wrap: wrap;\n"]))),Oe=(ne.b.div(q||(q=Object(ee.a)(["\n  margin: 20px;\n"]))),ne.b.h1(M||(M=Object(ee.a)(["\n"]))),ne.b.div(V||(V=Object(ee.a)(["\n  border-top: none;\n  opacity: ",";\n  max-height: ",";\n  overflow: hidden;\n  padding: ",";\n  transition: all 0.3s;\n\n  p {\n    margin: 0;\n  }\n"])),(function(e){return e.open?"1":"0"}),(function(e){return e.open?"100%":"0"}),(function(e){return e.open?"15px":"0 15px"})),"@media only screen and (max-width: 768px)"),me=ne.b.div(J||(J=Object(ee.a)(["\n  width: 100%;\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 0.25rem 1.75rem;\n  "," {\n    font-size: 0.96em;\n    padding: 0.25rem 1.25rem;\n  }\n"])),Oe),ge=ne.b.div(N||(N=Object(ee.a)(["\n  min-width: 0;\n  display: flex;\n  margin: 1.25rem 0;\n  position: relative;\n  border-radius: 3px;\n  word-wrap: break-word;\n  background-color: #fff;\n  flex-direction: column;\n  background-clip: border-box;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n  box-shadow: rgb(0 0 0 / 10%) 0px 1px 3px 0px, rgb(0 0 0 / 5%) 0px 5px 15px 0px;\n  "," {\n    border: none;\n    border-radius: 0;\n    box-shadow: none;\n    margin: 0;\n  }\n"])),Oe),ve=ne.b.div(U||(U=Object(ee.a)(["\n  display: flex;\n  font-size: 1.15rem;\n  flex-flow: row wrap;\n  background-color: #fff;\n  padding: 0.75rem 1.25rem;\n  border-top-left-radius: 0.25rem;\n  border-top-right-radius: 0.25rem;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n  "," {\n    font-size: 1.1rem;\n    text-align: center;\n    display: inline-block;\n    padding: 0 1.15rem 1rem;\n  }\n"])),Oe),we=ne.b.div(Y||(Y=Object(ee.a)(["\n  flex: 1 1 auto;\n  min-height: 32rem;\n  padding: 0.75rem 1.25rem;\n  ","\n  "," {\n    padding: 0rem 0;\n  }\n"])),(function(e){return e.multiComponents&&Object(ne.a)(G||(G=Object(ee.a)(["\n      > div {\n        margin-bottom: 1.5rem;\n        :first-of-type > label {\n          margin-top: 0;\n        }\n        > label {\n          font-size: 18px;\n          margin-bottom: 0.5rem;\n        }\n      }\n    "])))}),Oe),ye=ne.b.div(Z||(Z=Object(ee.a)(["\n  display: flex;\n  flex-direction: row;\n  max-width: 100%;\n  flex-wrap: wrap;\n  margin-top: 1rem;\n"]))),ke=t(61),Se=t(1);var Pe=function(e){var n=e.values,t=e.extraPoints,r=e.selectionLimit,a=e.index,i=e.onSelect,c=e.onRemove,o=e.onBountySelect,s=e.onBountyRemove;return Object(Se.jsxs)(ye,{children:[Object(Se.jsxs)("p",{children:[a,"."]}),Object(Se.jsx)(ke.Multiselect,{id:"finishedposition-".concat(a),displayValue:"name",isObject:!0,onRemove:c,onSearch:function(){},onSelect:i,options:n,selectedValues:[],placeholder:1===a?"Eliminated":"Eliminated / Eliminator",selectionLimit:r,style:{multiselectContainer:{width:"70%"}}},a),Object(Se.jsx)(ke.Multiselect,{id:"extraPoints-".concat(a),displayValue:"name",isObject:!0,onSearch:function(){},onSelect:o,onRemove:s,options:t,selectedValues:[],selectionLimit:1,placeholder:"Bounty",style:{multiselectContainer:{width:"130px"}}},"extraPoints-".concat(a))]})},Ce=t(107),We=t.n(Ce);t(134);var Re=function(){var e,n=Object(d.f)(),t=Object(r.useState)(null),a=Object(h.a)(t,2),i=a[0],c=a[1],o=Object(r.useState)(null),s=Object(h.a)(o,2),l=s[0],x=s[1],p=Object(r.useState)(new Date),f=Object(h.a)(p,2),O=f[0],m=f[1],g=Object(r.useState)([]),v=Object(h.a)(g,2),w=v[0],y=v[1],k=Object(r.useState)([]),S=Object(h.a)(k,2),P=S[0],C=S[1],W=Object(r.useState)(5),R=Object(h.a)(W,2),E=R[0],z=R[1],A=Object(r.useState)([]),L=Object(h.a)(A,2),D=L[0],B=L[1],F=Object(r.useState)(""),I=Object(h.a)(F,2),T=I[0],K=I[1],q=Object(r.useState)([]),M=Object(h.a)(q,2),V=M[0],J=M[1],N=Object(r.useState)([]),U=Object(h.a)(N,2),Y=U[0],G=U[1],Z=Object(r.useState)(!1),Q=Object(h.a)(Z,2),X=Q[0],_=Q[1],ee=Object(r.useRef)(void 0),ne=Object(r.useRef)(void 0);Object(r.useEffect)((function(){if(console.log("useEffect",{autoComplateValues:i,availablePlayers:w}),!i){var e;null===(e=ee.current)||void 0===e||e.cancel(),c(null);var n=H("".concat("https://mkoryrorqb.execute-api.eu-west-1.amazonaws.com/dev","/autocomplete-values"));ee.current=n,n.then((function(e){c(e),y(e.players),console.log("resp.players",e.players),C(e.extraPoints),G(e.seasons),K(e.seasons[0])}))}if(!l&&T){var t;null===(t=ne.current)||void 0===t||t.cancel(),x(null);var r=(a=T,H("".concat("https://mkoryrorqb.execute-api.eu-west-1.amazonaws.com/dev","/totals-for-season?season=").concat(a)));ne.current=r,r.then((function(e){x(e)}))}var a}),[i,w,l,T]);var te=function(e,n){console.log("setSelected",{list:e,selected:n}),J([].concat(Object(j.a)(V.filter((function(e){return e.length>0&&e[0].position!==n.position}))),[e]))},re=function(e,n){console.log("setRemoved",{list:e,removed:n}),J(V.filter((function(e){return e.length>0&&e[0].position!==n.position})))},ae=function(e,n){console.log("setBountySelected",{list:e,selected:n}),B([].concat(Object(j.a)(D),[n]))},ie=function(e,n){console.log("setBountyRemoved",{list:e,selected:n}),B(D.filter((function(e){return e.position!==n.position})))},ce=function(){var e=Object(u.a)(b.a.mark((function e(){var t,r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={selectedSeason:T,roundDate:O.toISOString(),finishedPositions:V,bounties:D,players:E},console.log("saveRound",t),e.prev=2,_(!0),e.next=6,$(t);case 6:a=e.sent,console.log("saveRound",a),""!==(null===a||void 0===a||null===(r=a.round)||void 0===r?void 0:r.id)&&(console.log("juuh",a),n("".concat(mn,"/"))),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:_(!1);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return Object(Se.jsxs)("div",{children:[Object(Se.jsx)(xe,{onClick:function(){return n("".concat(mn,"/"))},children:"Back"}),i&&Object(Se.jsx)(me,{children:Object(Se.jsxs)(ge,{children:[Object(Se.jsx)(ve,{children:Object(Se.jsxs)(fe,{children:["Add Round Details",Object(Se.jsx)(ke.Multiselect,{isObject:!1,selectedValues:[Y.length>0?Y[0]:""],onSearch:function(){},onSelect:function(e,n){return K(n)},options:Y,placeholder:"Season",selectionLimit:1,style:{multiselectContainer:{flexGrow:"1"}}}),Object(Se.jsx)(We.a,{selected:O,onChange:function(e){return m(e)},dateFormat:"dd.MM.yyyy"})]})}),Object(Se.jsxs)(we,{children:[Object(Se.jsxs)("div",{children:["Last round winner: ",Object(Se.jsx)("strong",{children:i.lastRoundWinner})]}),Object(Se.jsxs)("div",{children:["Person with the most points in season ",null===l||void 0===l?void 0:l.season,": ",Object(Se.jsx)("strong",{children:null===l||void 0===l||null===(e=l.totals)||void 0===e?void 0:e.totalPoints[0].name})]}),Object(j.a)(Array(E)).map((function(e,n){return Object(Se.jsx)(Pe,{values:w.map((function(e){return{position:n+1,name:e}})),extraPoints:P.map((function(e){return{position:n+1,name:e}})),onSelect:te,onBountySelect:ae,onBountyRemove:ie,onRemove:re,selectionLimit:0==n?1:2,index:++n},n)})),E<10&&Object(Se.jsx)(xe,{onClick:function(){return z(E+1)},children:"Add"}),E>1&&Object(Se.jsx)(xe,{onClick:function(){return z(E-1)},children:"Remove"}),E>1&&E<11&&V.length===E&&V.filter((function(e){return e.length>0&&1!==e[0].position})).every((function(e){return 2===e.length}))&&Object(Se.jsx)(xe,{onClick:function(){return ce()},disabled:X,children:"Save"})]})]})})]})},Ee=t(76);var ze=function(){var e=Object(d.f)(),n=Object(d.g)().id,t=Object(r.useState)(),a=Object(h.a)(t,2),i=a[0],c=a[1],o=Object(r.useRef)(void 0),s=Object(r.useState)(!1),l=Object(h.a)(s,2),j=l[0],x=l[1],p=function(){var t=Object(u.a)(b.a.mark((function t(){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,x(!0),t.next=4,_(n||"");case 4:r=t.sent,console.log("deleteRound",r),"deleted"===r.status&&e("".concat(mn,"/")),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:x(!1);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=function(e){return H("".concat("https://mkoryrorqb.execute-api.eu-west-1.amazonaws.com/dev","/round/").concat(e))}(n||"");o.current=e,e.then((function(e){c(e)}))}),[n]),Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)(xe,{onClick:function(){return e("".concat(mn,"/"))},children:"Back"}),i?Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsxs)(pe,{children:[Object(Se.jsxs)("thead",{children:[Object(Se.jsx)("tr",{children:Object(Se.jsxs)("th",{colSpan:5,children:["Round - ",new Date(i.round.date).toLocaleDateString("fi-FI",{year:"numeric",month:"numeric",day:"numeric"})]})}),Object(Se.jsxs)("tr",{children:[Object(Se.jsx)("th",{children:"Rank"}),Object(Se.jsx)("th",{children:"Player"}),Object(Se.jsx)("th",{children:"Eliminator"}),Object(Se.jsx)("th",{children:"Points"}),Object(Se.jsx)("th",{children:"Extra"})]})]}),Object(Se.jsx)("tbody",{children:i.finishedPositions.sort((function(e,n){return e.finishedPosition<n.finishedPosition?-1:1})).map((function(e){return Object(Se.jsxs)("tr",{children:[Object(Se.jsx)("td",{children:e.finishedPosition}),Object(Se.jsx)("td",{children:e.eliminatedPlayer}),Object(Se.jsx)("td",{children:e.eliminator}),Object(Se.jsx)("td",{children:e.points}),Object(Se.jsx)("td",{children:null===e||void 0===e?void 0:e.extrapoint})]},e.finishedPosition)}))})]}),Object(Se.jsxs)(xe,{onClick:function(){return window.confirm("Delete round?")?p():""},disabled:j,children:[Object(Se.jsx)(Ee.b,{})," Delete"]})]}):Object(Se.jsx)(je,{})]})};function Ae(e){var n=e.content,t=e.loading,r=e.onClick;return Object(Se.jsx)(he,{onClick:r,children:t?Object(Se.jsx)(je,{}):Object(Se.jsx)("div",{children:n})})}function Le(e){var n=e.type,t=e.placeholder,r=e.value,a=e.onChange;return Object(Se.jsx)(le,{type:n,placeholder:t,value:r,onChange:a})}var De=function(e){var n=e.setApiKey,t=Object(r.useState)(""),a=Object(h.a)(t,2),i=a[0],c=a[1],o=Object(r.useState)(""),s=Object(h.a)(o,2),d=s[0],l=s[1],j=Object(r.useState)(!1),x=Object(h.a)(j,2),p=x[0],f=x[1],O=Object(r.useState)(""),m=Object(h.a)(O,2),g=m[0],v=m[1],w=function(){var e=Object(u.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),v(""),e.prev=2,e.next=5,Q(i,d);case 5:t=e.sent,f(!1),n(t["api-key"]),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),v("Invalid credentials"),f(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return Object(Se.jsxs)(ie,{children:[Object(Se.jsx)(ce,{children:"Welcome"}),Object(Se.jsxs)(oe,{children:[Object(Se.jsx)(Le,{type:"text",placeholder:"Username",value:i,onChange:function(e){var n=e.target.value;c(n)}}),Object(Se.jsx)(Le,{type:"password",placeholder:"Password",value:d,onChange:function(e){var n=e.target.value;l(n)}})]}),Object(Se.jsx)(ue,{children:g}),Object(Se.jsx)(se,{children:Object(Se.jsx)(Ae,{content:"Log in",onClick:w,loading:p})}),Object(Se.jsx)(de,{})]})},Be=t(226);function Fe(e){var n=e.setApiKey;return Object(Se.jsx)(ae,{children:Object(Se.jsx)(Be.a,{variant:"contained",onClick:function(){n("")},children:"Logout"})})}var Ie=t(240),Te=t(243),Ke=t(242),qe=t(230),Me=t(112),Ve=t(10),Je=t(232),Ne=t(227),Ue=t(241),Ye=t(223),Ge=t(229),Ze=t(233),He=t(235),Qe=t(239),Xe=t(238),$e=t(234),_e=t(236),en=t(237),nn=t(228),tn=t(231),rn=t(113),an=t.n(rn);var cn=function(e){var n=e.round,t=e.index;return Object(Se.jsxs)(Ne.a,{sx:{width:450,m:2},children:[Object(Se.jsx)(Ge.a,{sx:{p:1},action:Object(Se.jsx)(tn.a,{href:"".concat(mn,"/round/").concat(n.round.id),children:Object(Se.jsx)(Je.a,{"aria-label":"settings",children:Object(Se.jsx)(an.a,{})})}),title:"Round ".concat(t),subheader:new Date(n.round.date).toLocaleDateString("fi-FI",{year:"numeric",month:"numeric",day:"numeric"})}),Object(Se.jsx)(Ze.a,{children:Object(Se.jsx)($e.a,{component:nn.a,sx:{boxShadow:0},children:Object(Se.jsxs)(He.a,{sx:{minWidth:400,boxShadow:0},"aria-label":"simple table",children:[Object(Se.jsx)(_e.a,{children:Object(Se.jsxs)(en.a,{children:[Object(Se.jsx)(Xe.a,{sx:{fontWeight:"bold"},padding:"none",children:"Rank"}),Object(Se.jsx)(Xe.a,{sx:{fontWeight:"bold"},padding:"none",align:"left",children:"Player"}),Object(Se.jsx)(Xe.a,{sx:{fontWeight:"bold"},padding:"none",align:"left",children:"Eliminator"}),Object(Se.jsx)(Xe.a,{sx:{fontWeight:"bold"},padding:"none",align:"right",children:"Points"}),Object(Se.jsx)(Xe.a,{sx:{fontWeight:"bold"},padding:"none",align:"right",children:"Extra"})]})}),Object(Se.jsx)(Qe.a,{children:n.finishedPositions.map((function(e,n){var t,r;return Object(Se.jsxs)(en.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(Se.jsx)(Xe.a,{padding:"none",component:"th",scope:"row",children:n+1}),Object(Se.jsx)(Xe.a,{padding:"none",align:"left",children:e.eliminatedPlayer}),Object(Se.jsx)(Xe.a,{padding:"none",align:"left",children:e.eliminator}),Object(Se.jsx)(Xe.a,{padding:"none",align:"right",children:e.points}),Object(Se.jsxs)(Xe.a,{padding:"none",align:"right",children:[null===e||void 0===e||null===(t=e.extraPoints)||void 0===t?void 0:t.type," ",null===e||void 0===e||null===(r=e.extraPoints)||void 0===r?void 0:r.amount]})]},n)}))})]})})})]})};var on=function(e){var n=e.roundsForSeason;return Object(Se.jsx)(fe,{"data-test-id":"rounds-for-season",children:n.map((function(e,n){return Object(Se.jsx)(cn,{round:e,index:n+1},n)}))})};var sn=function(e){var n=e.eliminations,t=e.gamesPlayed,r=e.totalPoints;return Object(Se.jsxs)(Ie.a,{sx:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",m:2},"data-test-id":"totals",children:[Object(Se.jsx)($e.a,{component:nn.a,sx:{boxShadow:0,minWidth:300,maxWidth:450,m:1,p:1},children:Object(Se.jsxs)(He.a,{sx:{minWidth:270,boxShadow:0},"aria-label":"simple table",children:[Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(en.a,{children:Object(Se.jsx)(Xe.a,{sx:{fontWeight:"bold"},padding:"none",colSpan:2,children:"Participations"})}),Object(Se.jsxs)(en.a,{children:[Object(Se.jsx)(Xe.a,{sx:{fontWeight:"bold"},padding:"none",align:"left",children:"Player"}),Object(Se.jsx)(Xe.a,{sx:{fontWeight:"bold"},padding:"none",align:"left",children:"Amount"})]})]}),Object(Se.jsx)(Qe.a,{children:t.map((function(e,n){return Object(Se.jsxs)(en.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(Se.jsx)(Xe.a,{padding:"none",align:"left",children:e.name}),Object(Se.jsx)(Xe.a,{padding:"none",align:"left",children:e.value})]},n)}))})]})}),Object(Se.jsx)($e.a,{component:nn.a,sx:{boxShadow:0,minWidth:300,maxWidth:450,m:1,p:1},children:Object(Se.jsxs)(He.a,{sx:{minWidth:270,boxShadow:0},"aria-label":"simple table",children:[Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(en.a,{children:Object(Se.jsx)(Xe.a,{sx:{fontWeight:"bold"},padding:"none",colSpan:2,children:"Total Points"})}),Object(Se.jsxs)(en.a,{children:[Object(Se.jsx)(Xe.a,{sx:{fontWeight:"bold"},padding:"none",align:"left",children:"Player"}),Object(Se.jsx)(Xe.a,{sx:{fontWeight:"bold"},padding:"none",align:"left",children:"Amount"})]})]}),Object(Se.jsx)(Qe.a,{children:r.map((function(e,n){return Object(Se.jsxs)(en.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(Se.jsx)(Xe.a,{padding:"none",align:"left",children:e.name}),Object(Se.jsx)(Xe.a,{padding:"none",align:"left",children:e.value})]},n)}))})]})}),Object(Se.jsx)($e.a,{component:nn.a,sx:{boxShadow:0,minWidth:300,maxWidth:450,m:1,p:1},children:Object(Se.jsxs)(He.a,{sx:{minWidth:270,boxShadow:0},"aria-label":"simple table",children:[Object(Se.jsxs)(_e.a,{children:[Object(Se.jsx)(en.a,{children:Object(Se.jsx)(Xe.a,{sx:{fontWeight:"bold"},padding:"none",colSpan:2,children:"Eliminations"})}),Object(Se.jsxs)(en.a,{children:[Object(Se.jsx)(Xe.a,{sx:{fontWeight:"bold"},padding:"none",align:"left",children:"Player"}),Object(Se.jsx)(Xe.a,{sx:{fontWeight:"bold"},padding:"none",align:"left",children:"Amount"})]})]}),Object(Se.jsx)(Qe.a,{children:n.map((function(e,n){return Object(Se.jsxs)(en.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(Se.jsx)(Xe.a,{padding:"none",align:"left",children:e.name}),Object(Se.jsx)(Xe.a,{padding:"none",align:"left",children:e.value})]},n)}))})]})})]})},dn=t(94),ln=t.n(dn);var bn=function(e){var n=e.selectedSeason,t=Object(r.useState)([]),a=Object(h.a)(t,2),i=a[0],c=a[1],o=Object(r.useState)([]),s=Object(h.a)(o,2),d=s[0],l=s[1],b=Object(r.useState)([]),u=Object(h.a)(b,2),j=u[0],x=u[1],p=Object(r.useState)([]),f=Object(h.a)(p,2),O=f[0],m=f[1],g=Object(r.useState)(!0),v=Object(h.a)(g,2),w=v[0],y=v[1],k=Object(r.useState)(!0),S=Object(h.a)(k,2),P=S[0],C=S[1],W=Object(r.useRef)(void 0);Object(r.useEffect)((function(){var e;null===(e=W.current)||void 0===e||e.cancel(),c([]);var t,r=(t=n,H("".concat("https://mkoryrorqb.execute-api.eu-west-1.amazonaws.com/dev","/rounds-for-season?season=").concat(t)));W.current=r,r.then((function(e){c(e.rounds),l(e.totals.eliminations),x(e.totals.gamesPlayed),m(e.totals.totalPoints)}))}),[n]);var R=Object(Ve.a)((function(e){var n=Object.assign({},e);return Object(Se.jsx)(Je.a,Object(Me.a)({},n))}))((function(e){var n=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest})}}));return Object(Se.jsx)("div",{children:0===i.length?Object(Se.jsx)("div",{children:Object(Se.jsx)(je,{})}):Object(Se.jsxs)(Ie.a,{children:[Object(Se.jsxs)(Ne.a,{sx:{mb:2},children:[Object(Se.jsxs)(Ue.a,{disableSpacing:!0,children:[Object(Se.jsx)(qe.a,{variant:"h5",component:"div",children:"Rounds"}),Object(Se.jsx)(R,{expand:w,onClick:function(){return y(!w)},"aria-expanded":w,"aria-label":"show more",children:Object(Se.jsx)(ln.a,{})})]}),Object(Se.jsx)(Ye.a,{in:w,timeout:"auto",unmountOnExit:!0,children:Object(Se.jsx)(on,{roundsForSeason:i})})]}),Object(Se.jsxs)(Ne.a,{sx:{mb:2},children:[Object(Se.jsxs)(Ue.a,{disableSpacing:!0,children:[Object(Se.jsx)(qe.a,{variant:"h5",component:"div",children:"Totals"}),Object(Se.jsx)(R,{expand:P,onClick:function(){return C(!P)},"aria-expanded":P,"aria-label":"show more",children:Object(Se.jsx)(ln.a,{})})]}),Object(Se.jsx)(Ye.a,{in:P,timeout:"auto",unmountOnExit:!0,children:Object(Se.jsx)(sn,{eliminations:d,gamesPlayed:j,totalPoints:O})})]})]})})};var un=function(){var e=Object(r.useState)(""),n=Object(h.a)(e,2),t=n[0],a=n[1],i=Object(r.useState)([]),c=Object(h.a)(i,2),o=c[0],s=c[1],d=Object(r.useState)(!1),l=Object(h.a)(d,2),j=l[0],x=l[1],p=Object(r.useState)(!1),f=Object(h.a)(p,2),O=f[0],m=f[1];return Object(r.useEffect)((function(){Object(u.a)(b.a.mark((function e(){var n,t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:(n=e.sent).seasons.length>0&&(t=n.seasons[0],r=n.seasons,a(t),s(r),x(r.indexOf(t)-1>=0),m(r.indexOf(t)+1<r.length));case 4:case"end":return e.stop()}}),e)})))()}),[s,a,x,m]),Object(Se.jsx)("div",{children:0===o.length?Object(Se.jsx)("div",{children:Object(Se.jsx)(Ke.a,{})}):Object(Se.jsxs)(Ie.a,{sx:{p:2,boxShadow:0},children:[Object(Se.jsxs)(Te.a,{variant:"contained","aria-label":"outlined primary button group",sx:{mb:2},children:[Object(Se.jsx)(Be.a,{variant:"contained",onClick:function(){var e=o.indexOf(t)+1;O&&(a(o[e]),x(o.indexOf(o[e])-1>=0),m(o.indexOf(o[e])+1<o.length))},disabled:!O,children:"Previous"}),Object(Se.jsx)(qe.a,{variant:"h5",component:"div",sx:{p:2},children:t}),Object(Se.jsx)(Be.a,{variant:"contained",onClick:function(){var e=o.indexOf(t)-1;j&&(a(o[e]),x(o.indexOf(o[e])-1>=0),m(o.indexOf(o[e])+1<o.length))},disabled:!j,children:"Next"})]}),Object(Se.jsx)(bn,{selectedSeason:t})]})})};var jn=function(){var e=Object(d.f)(),n=Object(r.useState)(""),t=Object(h.a)(n,2),a=t[0],i=t[1];Object(r.useEffect)((function(){var e=localStorage.getItem("apiKey");e&&i(e)}),[i]);var c=function(e){localStorage.setItem("apiKey",e),i(e)};return Object(Se.jsx)("div",{children:""===a?Object(Se.jsx)("div",{id:"login",children:Object(Se.jsx)(te,{children:Object(Se.jsx)(De,{setApiKey:c})})}):Object(Se.jsxs)(nn.a,{sx:{m:2,boxShadow:0},children:[Object(Se.jsx)(re,{children:Object(Se.jsx)(Fe,{setApiKey:c})}),Object(Se.jsx)(un,{}),Object(Se.jsxs)(Be.a,{variant:"contained",sx:{ml:2,mb:2},onClick:function(){return e("".concat(mn,"/add"))},children:[Object(Se.jsx)(Ee.a,{})," Add Round"]})]})})};var hn=function(){return Object(Se.jsx)(s.a,{children:Object(Se.jsxs)(d.c,{children:[Object(Se.jsx)(d.a,{path:"".concat(mn,"/round/:id"),element:Object(Se.jsx)(ze,{})}),Object(Se.jsx)(d.a,{path:"".concat(mn,"/add"),element:Object(Se.jsx)(Re,{})}),Object(Se.jsx)(d.a,{path:"".concat(mn,"/"),element:Object(Se.jsx)(jn,{})})]})})},xn=Object(i.a)({palette:{mode:"light"}});var pn=function(){return Object(Se.jsxs)(c.a,{theme:xn,children:[Object(Se.jsx)(o.a,{}),Object(Se.jsx)(hn,{})]})},fn=(t(181),function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,245)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),r(e),a(e),i(e),c(e)}))}),On="/pokeri-ui",mn=On.endsWith("/")?On.slice(0,-1):On;a.render(Object(Se.jsx)(r.StrictMode,{children:Object(Se.jsx)(pn,{})}),document.getElementById("root")),fn()}},[[183,1,2]]]);
//# sourceMappingURL=main.25e1a4ec.chunk.js.map